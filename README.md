## 프로젝트 설명

회원가입, 로그인 기능이 있는 할일관리 백엔드 서버

## API 명세서

[보러가기](https://fourth-amethyst-210.notion.site/API-3133f33aaebb40ca81e1baa5c4089343)

## ERD TABLE

![Pasted image 20240206104436](https://github.com/jinkshower/Todo-management/assets/135244018/d7eef2a2-e61c-482c-8ff5-4f7867e223f6)

## 프로젝트에서 집중한 점

### 인수테스트 작성
`서비스로서의 기능을 테스트`하기 위해 인수테스트를 구현했습니다.   
사용자의 기능 사용 시나리오대로 테스트를 구현하기 위해 집중했습니다.   
[학습기록](https://jinkshower.github.io/acceptance_test/)

### JWT토큰으로 로그인 구현
로그인 시 토큰을 생성하고 응답헤더에 토큰을 넣어 반환하는 식으로 로그인을 구현했습니다.   
이 과정에서 공통되는 검증로직을 ArgumentResolver추가로 파라미터화하여 중복 코드를 줄였습니다.  
[학습기록](https://jinkshower.github.io/argumentresolver/)

### 디자인패턴 적용
위의 검증로직을 줄이는 과정에서 학습한 전략-어댑터패턴을 실제 비즈니스 로직내에 적용했습니다.   
검색 필터를 인터페이스화하여 확장성을 확보했고,   
일급컬렉션 내에서 필터 파라미터 값에 해당하는 필터를 찾아서 적용하게 작성하여 서비스 계층과 도메인 계층을 나누려 노력했습니다. 


### 예외처리와 로깅메세지의 표준화
예외처리를 추상화하고 상세 예외를 상속, 적용하는 방식으로 예외를 분류하여 처리하였습니다.   
예외 메세지를 표준화하여 예외상황발생시 일관된 정보를 받을수 있도록 작성하려 했습니다.   

## 더 고민해볼 부분

### 테스트 격리
현재 테스트는 개별로 실행시 잘 작동하지만 전체 실행시 오류가 발생합니다.   
이와 관련해 많은 검색과 고민을 했지만 정확한 방법을 찾지 못한 상태입니다.   
현재 생각하고 있는 해결방안은 
1. @DirtiesContext 적용
2. 각 테스트 이후 쿼리문으로 데이터 삭제
3. 의도적으로 다른 데이터 삽입    

정도 입니다.

## 기능 구현사항

 - [x] 회원가입을 할 수 있다
   - [x] username의 유효성을 검증한다
   - [x] password의 유효성을 검증한다
   - [x] 중복되는 username은 허용하지 않는다
 - [x] 로그인을 할 수 있다
   - [x] 로그인 성공 시 JWT 토큰을 발행한다
 - [x] 할 일 카드를 작성할 수 있다 @Login
   - [x] 제목, 내용을 저장한다
- [x] 전체 할일 목록을 조회할 수 있다
- [x] 특정 할 일 카드를 조회할 수 있다
- [x] 할 일 카드를 수정할 수 있다 @Login
  - [x] 제목, 내용을 수정할 수 있다
- [x] 할 일 완료처리를 할 수 있다 @Login
- [x] 할 일 카드를 삭제 할 수 있다 @Login
- [x] 할 일 카드에 댓글을 남길 수 있다 @Login
- [x] 댓글을 수정할 수 있다 @Login
- [x] 댓글을 삭제할 수 있다 @Login
- [x] 조회시 필터를 적용한다 @Login
  - [x] 완료된 할일을 제외한다
  - [x] 사용자 이외의 작성자들의 할일을 제외한다
  - [x] 제목으로 조회한다
- [x] 예외 발생시 400 상태코드와 메시지를 반환한다
